<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ title }}</title>
    <style>
        body { font-family: Arial, Helvetica, sans-serif; margin: 20px; background: #0f1224; color: #fff; }
        h1 { margin-bottom: 16px; }
        form { background: rgba(255,255,255,0.06); padding: 16px; border-radius: 10px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.15); }
        .row { display: grid; grid-template-columns: 1fr 2fr; gap: 10px; margin-bottom: 10px; align-items: center; }
        label { color: #e0e0e0; }
        input[type="text"], textarea { width: 100%; padding: 8px 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.25); background: rgba(0,0,0,0.25); color: #fff; }
        textarea { resize: vertical; min-height: 70px; }
        .hint { font-size: 12px; color: #bdbdbd; }
        .error { background: #8b0000; padding: 8px 10px; border-radius: 8px; margin-bottom: 12px; }
        .actions { text-align: right; }
        button { padding: 10px 16px; border-radius: 8px; border: 0; background: linear-gradient(135deg, #66d1ff, #8f7aff); color: #fff; font-weight: 600; cursor: pointer; }

        table { border-collapse: collapse; width: 100%; background: rgba(255,255,255,0.05); }
        th, td { border: 1px solid rgba(255,255,255,0.15); padding: 8px 10px; text-align: left; vertical-align: top; }
        th { background: rgba(255,255,255,0.1); }
        .wrap { white-space: pre-wrap; }
        a { color: #66d1ff; }
        code { background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 6px; }
    </style>
</head>
<body>
    <h1>Admin Â· Links</h1>
    <p class="hint">Basic Auth: username <b>gomgom</b>, password <b>gomgom</b>.</p>

    {% if error %}
    <div class="error">{{ error }}</div>
    {% endif %}

    <form method="post" action="{{ url_for('create_link') }}">
        <div class="row">
            <label for="name">Name</label>
            <input id="name" name="name" type="text" placeholder="Display name" required />
        </div>
        <div class="row">
            <label for="link">Link URL</label>
            <input id="link" name="link" type="text" placeholder="https://example.com/page" required />
        </div>
        <div class="row">
            <label for="desc">Description</label>
            <textarea id="desc" name="desc" placeholder="Short description"></textarea>
        </div>
        <div class="row">
            <label for="id">Custom ID (optional)</label>
            <input id="id" name="id" type="text" placeholder="letters, numbers, dash, underscore" />
        </div>
        <div class="actions">
            <button type="submit">Add Link</button>
        </div>
        <p class="hint">Public page will be accessible at <code>https://gomgom.id/&lt;id&gt;</code>. If ID is empty, it will be generated from name.</p>
    </form>

    <h2>Existing Links</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>URL</th>
                <th>Description</th>
                <th>Public</th>
            </tr>
        </thead>
        <tbody>
            {% for it in links %}
            <tr>
                <td><code>{{ it.id }}</code></td>
                <td>{{ it.name }}</td>
                <td class="wrap"><a href="{{ it.link }}" target="_blank" rel="noopener">{{ it.link }}</a></td>
                <td class="wrap">{{ it.desc }}</td>
                <td><a href="/{{ it.id }}" target="_blank">/{{ it.id }}</a></td>
            </tr>
            {% endfor %}
            {% if not links %}
            <tr>
                <td colspan="5"><i>No links yet</i></td>
            </tr>
            {% endif %}
        </tbody>
    </table>
</body>
</html>


